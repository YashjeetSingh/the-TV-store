<html>
<head>
<style>

    body {margin:0;
        }
    html{
        position: relative;
        min-width: 1024px;
        min-height: 768px;
        height: 100%;
    }
    #white-background{
        display: none;
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0px;
        left: 0px;
        background-color: #fefefe;
        opacity: 0.7;
        z-index: 9999;
    }

    #dlgbox{
        /*initially dialog box is hidden*/
        display: none;
        position: fixed;
        width: 480px;
        z-index: 9999;
        border-radius: 20px;
        background-color: transparent;
    }

    #dlg-header{
        background-color: #7f7f7f;
        color: white;
        font-size: 20px;
        padding: 10px;
        margin: 10px 10px 0px 10px;
    }

    #dlg-body{
        background-color: white;
        color: black;
        font-size: 14px;
        padding: 10px;
        margin: 0px 10px 0px 10px;
    }

    #dlg-footer{
        background-color: #f2f2f2;
        text-align: right;
        padding: 10px;
        margin: 0px 10px 10px 10px;
    }

    #dlg-footer button{
        background-color: dimgrey;
        color: white;
        padding: 5px;
        border: 0px;
    }
    .footer {
        position: fixed;
        left: 0;
        bottom: 0px;
        width: 100%;
        height: 42px;
        background-color: black;
        color: whitesmoke;
        text-align: center;
    }


</style>
</head>
{{# each products }}
    <div class="container">
        <div class="row"><br><br><br><br>
            <div class="col-xs-3 item-photo">
                <img style="width:250px;" src="{{this.ImageURL}}">
                <h3 style="align-items: center; padding: 0px"><b>{{this.Title}}</b></h3>
                <p style="padding: -40px;">
                    <large>
                        <b>Brand: {{this.Brand}}</b></h4>
                    </large>
                </p>
            </div>
            <div class="col-xs-6" style="text-align: justify">
                <html>
                <head>
                </head>
                <body>
                <h3>Book Description</h3>
                <span class="more">
                {{ this.seller }}<br>
                    {{this.Style}}
        </span>
                <br><br>

                </body>
                </html>
                <script type="text/javascript">
                    $(document).ready(function() {
                        // Configure/customize these variables.
                        var showChar = 100; // How many characters are shown by default
                        var ellipsestext = "...";
                        var moretext = "Show more >";
                        var lesstext = "Show less";


                        $('.more').each(function() {
                            var content = $(this).html();

                            if(content.length > showChar) {

                                var c = content.substr(0, showChar);
                                var h = content.substr(showChar, content.length - showChar);

                                var html = c + '<span class="moreellipses">' + ellipsestext+ '&nbsp;</span><span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink">' + moretext + '</a></span>';

                                $(this).html(html);
                            }

                        });

                        $(".morelink").click(function(){
                            if($(this).hasClass("less")) {
                                $(this).removeClass("less");
                                $(this).html(moretext);
                            } else {
                                $(this).addClass("less");
                                $(this).html(lesstext);
                            }
                            $(this).parent().prev().toggle();
                            $(this).prev().toggle();
                            return false;
                        });
                    });
                </script>
                <style>
                    .morecontent span {
                        display: none;
                    }
                    .morelink {
                        display: block;
                    }
                </style>

            </div>


            <div class="col-xs-3" style="border:0px solid gray">
                <h3><b>{{this.Title}}</b></h3>
                <h4 class="title-price">Price : ${{this.Price}}</b></h4>
                <div class="section" style="padding-bottom:20px;">
                    <h4 class="title-attr">Quantity</h4>
                    <div>
                        <div class="container">
                            <div class="row" style="padding-center: 200px">
                                <script>
                                    $(document).ready(function(){

                                        var quantitiy=0;
                                        $('.quantity-right-plus').click(function(e){

                                            // Stop acting like a button
                                            e.preventDefault();
                                            // Get the field name
                                            var quantity = parseInt($('#quantity').val());

                                            // If is not undefined

                                            $('#quantity').val(quantity + 1);


                                            // Increment

                                        });

                                        $('.quantity-left-minus').click(function(e){
                                            // Stop acting like a button
                                            e.preventDefault();
                                            // Get the field name
                                            var quantity = parseInt($('#quantity').val());

                                            // If is not undefined

                                            // Increment
                                            if(quantity>0){
                                                $('#quantity').val(quantity - 1);
                                            }
                                        });

                                    });
                                </script>

                                <div class="col-lg-2">
                                    <div class="input-group">
                                    <span class="input-group-btn">
                                        <button type="button" class="quantity-left-minus btn btn-number"  data-type="minus" data-field="">
                                          <span class="glyphicon glyphicon-minus"></span>
                                        </button>
                                    </span>
                                        <input  id="quantity" name="quantity" class="form-control input-number" value="1" min="0" max="100"/>
                                       <!-- <input type="text" id="quantity" name="quantity" class="form-control input-number" value="1" min="0" max="100">-->
                                        <span class="input-group-btn">
                                        <button class="quantity-right-plus btn  btn-number" data-type="plus" data-field="">
                                            <span class="glyphicon glyphicon-plus"></span>
                                        </button>
                                    </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--<div class="btn-plus"><span class="glyphicon glyphicon-plus"></span></div>
                        <input value="1" />
                        <div class="btn-minus"><span class="glyphicon glyphicon-minus"></span></div>-->
                    </div>
                </div>
                <body>
                <div id="white-background">
                </div>
                <div id="dlgbox">
                    <div id="dlg-header">Your Book is Added to Cart</div>
                    <div id="dlg-body">Sorry for inconvenience we are working on it</div>
                    <div id="dlg-footer">
                        <button onclick="dlgLogin()">Go Back</button>
                    </div>
                </div>
                <div class="section" style="padding-left:-40px;">
                <a class="btn btn-success pull-left" role="button" onclick="showDialog()">Add to Shopping Cart</a>
                </div>
                <script>
                    function dlgLogin(){
                        var whitebg = document.getElementById("white-background");
                        var dlg = document.getElementById("dlgbox");
                        whitebg.style.display = "none";
                        dlg.style.display = "none";
                    }

                    function showDialog(){
                        var whitebg = document.getElementById("white-background");
                        var dlg = document.getElementById("dlgbox");
                        whitebg.style.display = "block";
                        dlg.style.display = "block";

                        var winWidth = window.innerWidth;
                        var winHeight = window.innerHeight;

                        dlg.style.left = (winWidth/2) - 480/2 + "px";
                        dlg.style.top = "150px";
                    }
                </script>
                </body>


                <div class="col-xs-18">
                    <p style="padding-top:50px; font-family: Lato">
                    <h5>
                    Status of Book: {{this.Dimension}}<br>
                    Category: {{this.SoldBy}}<br>
                    Available with sellers
                    </h5>
                    </p>
                </div>
            </div>
        </div>
    </div>
{{/each}}
</html>
<div class="footer" style="padding-top: 10px;">
    More e-Books &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <a href="https://www.gutenberg.org/"> Project Gutenberg | </a>
    <a href="https://www.goodreads.com/"> GoodReads | </a>
    <a href="http://www.openingthebook.com/whichbook/"> WhichBook | </a>
    <a href="http://landers.bookbub.com/covers/?source="> BookBub </a>
    <b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;See the Project&nbsp;&nbsp;&nbsp;&nbsp;</b>
    <a href="https://github.com/sjsingh91/bigdata-ecommerce-books"><img src="https://www.rstudio.com/wp-content/uploads/2014/03/GitHub-Mark-Light-32px.png" style="bottom: 150px"></a>


</div>
